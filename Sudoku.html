<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sudoku Solver</title>
    <style>
        /* CSS Styles */

        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }

        h1 {
            margin-top: 20px;
        }

        #sudoku-grid {
            display: grid;
            grid-template-columns: repeat(9, 50px);
            grid-gap: 1px;
            margin: 20px auto;
            width: 452px;
        }

        #sudoku-grid input {
            width: 48px;
            height: 48px;
            text-align: center;
            font-size: 18px;
            border: 1px solid #ccc;
        }

        /* Clear left for new rows */
        #sudoku-grid input:nth-child(9n+1) {
            clear: left;
        }

        /* Bold borders for 3x3 grids */
        #sudoku-grid input {
            border: 1px solid #ccc;
        }

        #sudoku-grid input:nth-child(3n) {
            border-right: 2px solid #000;
        }

        #sudoku-grid input:nth-child(n + 19):nth-child(-n + 27),
        #sudoku-grid input:nth-child(n + 46):nth-child(-n + 54) {
            border-bottom: 2px solid #000;
        }

        #sudoku-grid input:nth-child(n + 1):nth-child(-n + 9),
        #sudoku-grid input:nth-child(n + 28):nth-child(-n + 36),
        #sudoku-grid input:nth-child(n + 55):nth-child(-n + 63) {
            border-top: 2px solid #000;
        }

        #sudoku-grid input:nth-child(3n + 1) {
            border-left: 2px solid #000;
        }

        #solve-button {
            padding: 10px 20px;
            font-size: 16px;
            margin-bottom: 20px;
            cursor: pointer;
        }

        /* Responsive Design */
        @media (max-width: 500px) {
            #sudoku-grid {
                grid-template-columns: repeat(9, 30px);
                width: 302px;
            }

            #sudoku-grid input {
                width: 28px;
                height: 28px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <h1>Sudoku Solver</h1>
    <div id="sudoku-grid">
        <!-- The grid will be generated by JavaScript -->
    </div>
    <button id="solve-button">Solve</button>

    <script>
        // JavaScript Code

        // Generate the grid of inputs
        const gridContainer = document.getElementById('sudoku-grid');

        for (let i = 0; i < 81; i++) {
            const input = document.createElement('input');
            input.type = 'number';
            input.min = 1;
            input.max = 9;
            gridContainer.appendChild(input);
        }

        // Solver functions
        function solveSudoku(grid) {
            const emptyPos = findEmptyPosition(grid);
            if (!emptyPos) {
                return true;
            }

            const [row, col] = emptyPos;

            for (let num = 1; num <= 9; num++) {
                if (isValidPlacement(grid, num, row, col)) {
                    grid[row][col] = num;

                    if (solveSudoku(grid)) {
                        return true;
                    }

                    grid[row][col] = 0; // Backtrack
                }
            }
            return false; // Trigger backtracking
        }

        function findEmptyPosition(grid) {
            for (let row = 0; row < 9; row++) {
                for (let col = 0; col < 9; col++) {
                    if (grid[row][col] === 0) {
                        return [row, col];
                    }
                }
            }
            return null;
        }

        function isValidPlacement(grid, num, row, col) {
            // Check row
            for (let x = 0; x < 9; x++) {
                if (grid[row][x] === num) {
                    return false;
                }
            }

            // Check column
            for (let y = 0; y < 9; y++) {
                if (grid[y][col] === num) {
                    return false;
                }
            }

            // Check 3x3 square
            const startRow = Math.floor(row / 3) * 3;
            const startCol = Math.floor(col / 3) * 3;
            for (let y = startRow; y < startRow + 3; y++) {
                for (let x = startCol; x < startCol + 3; x++) {
                    if (grid[y][x] === num) {
                        return false;
                    }
                }
            }

            return true;
        }

        // Button click event
        const solveButton = document.getElementById('solve-button');

        solveButton.addEventListener('click', () => {
            const inputs = document.querySelectorAll('#sudoku-grid input');
            const grid = [];

            // Initialize the grid with input values
            for (let row = 0; row < 9; row++) {
                grid[row] = [];
                for (let col = 0; col < 9; col++) {
                    const value = inputs[row * 9 + col].value;
                    grid[row][col] = value ? parseInt(value) : 0;
                }
            }

            if (solveSudoku(grid)) {
                // Display the solved grid
                for (let row = 0; row < 9; row++) {
                    for (let col = 0; col < 9; col++) {
                        inputs[row * 9 + col].value = grid[row][col];
                    }
                }
                alert('Sudoku solved!');
            } else {
                alert('No solution exists for the given Sudoku.');
            }
        });
    </script>
</body>
</html>